{"version":3,"sources":["components/ImageGallery/styles.module.css","components/Button/styles.module.css","App.module.css","components/Searchbar/styles.module.css","components/Searchbar/index.js","components/ImageGalleryItem/index.js","components/ImageGallery/index.js","components/Button/index.js","components/MyLoader/index.js","components/Modal/index.js","api/pixabay.js","api/key.js","App.js","index.js","components/ImageGalleryItem/styles.module.css","components/Modal/styles.module.css"],"names":["module","exports","Searchbar","state","searchWord","onSubmit","e","preventDefault","props","handleSubmit","handleInputChange","setState","target","value","className","styles","SearchForm","this","type","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","id","src","clickHandler","alt","onClick","ImageGallery","prevProps","prevState","images","length","snapshot","window","scrollTo","top","document","documentElement","scrollHeight","behavior","onImageClick","map","webformatURL","key","Math","random","Button","handleClick","MyLoader","style","margin","color","height","width","Modal","closeModal","tagName","handleKeyDown","code","addEventListener","removeEventListener","Overlay","query","page","axios","get","then","response","data","hits","App","pageNumber","isLoading","largeImageURL","error","pixabay","catch","finally","handleLoadMore","find","img","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.0575ca85.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"styles_ImageGallery__3kWtg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"styles_Button__159eO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__16ZpL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"styles_Searchbar__2gUKu\",\"SearchForm\":\"styles_SearchForm__21tkW\",\"SearchForm-button\":\"styles_SearchForm-button__YdAmr\",\"SearchForm-button-label\":\"styles_SearchForm-button-label__mL5FU\",\"SearchForm-input\":\"styles_SearchForm-input__2gxEK\"};","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport styles from \"./styles.module.css\";\n\nclass Searchbar extends Component {\n  state = {\n    searchWord: \"\",\n  };\n\n  onSubmit = (e) => {\n    e.preventDefault();\n    this.props.handleSubmit(this.state.searchWord);\n  };\n\n  handleInputChange = (e) => this.setState({ searchWord: e.target.value });\n\n  render() {\n    return (\n      <header className={styles.Searchbar}>\n        <form className={styles.SearchForm} onSubmit={this.onSubmit}>\n          <button type=\"submit\" className={styles[\"SearchForm-button\"]}>\n            <span className={styles[\"SearchForm-button-label\"]}>Search</span>\n          </button>\n          <input\n            className={styles[\"SearchForm-input\"]}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.searchWord}\n            onChange={this.handleInputChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  handleSubmit: PropTypes.func.isRequired,\n};\n\nexport default Searchbar;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport styles from \"./styles.module.css\";\n\nconst ImageGalleryItem = ({ id, src, clickHandler }) => {\n  const onClick = (e) => clickHandler(e, id);\n\n  return (\n    <li className={styles.ImageGalleryItem}>\n      <img\n        src={src}\n        alt=\"\"\n        className={styles[\"ImageGalleryItem-image\"]}\n        onClick={onClick}\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  id: PropTypes.number.isRequired,\n  src: PropTypes.string.isRequired,\n  clickHandler: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport styles from \"./styles.module.css\";\n\nimport ImageGalleryItem from \"../ImageGalleryItem\";\n\nclass ImageGallery extends Component {\n  getSnapshotBeforeUpdate(prevProps, prevState) {\n    return prevProps.images.length < this.props.images.length;\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (snapshot) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: \"smooth\",\n      });\n    }\n  }\n\n  render() {\n    const { images, onImageClick } = this.props;\n    return (\n      <ul className={styles.ImageGallery}>\n        {images.map(({ id, webformatURL }) => (\n          <ImageGalleryItem\n            key={`${id}_${Math.random()}`}\n            id={id}\n            src={webformatURL}\n            clickHandler={onImageClick}\n          />\n        ))}\n      </ul>\n    );\n  }\n}\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      webformatURL: PropTypes.string,\n    })\n  ).isRequired,\n  onImageClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport styles from \"./styles.module.css\";\n\nconst Button = ({ handleClick }) => (\n  <button className={styles.Button} onClick={handleClick}>\n    Load more\n  </button>\n);\n\nButton.propTypes = {\n  handleClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React from \"react\";\nimport Loader from \"react-loader-spinner\";\n\nconst MyLoader = () => (\n  <Loader\n    style={{ margin: \"auto\" }}\n    type=\"ThreeDots\"\n    color=\"#00BFFF\"\n    height={100}\n    width={100}\n  />\n);\n\nexport default MyLoader;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport styles from \"./styles.module.css\";\n\nclass Modal extends Component {\n  closeModal = (e) => {\n    e.target.tagName !== \"IMG\" && this.props.closeModal();\n  };\n\n  handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      this.closeModal(e);\n    }\n  };\n\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  render() {\n    return (\n      <div className={styles.Overlay} onClick={this.closeModal}>\n        <div className={styles.Modal}>\n          <img src={this.props.src} alt=\"\" />\n        </div>\n      </div>\n    );\n  }\n}\n\nModal.propTypes = {\n  src: PropTypes.string.isRequired,\n  closeModal: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","import axios from \"axios\";\n\nimport key from \"./key\";\n\nconst fetchImagesWithQuery = (query, page) => {\n  return axios\n    .get(\n      `https://pixabay.com/api/?q=${query}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12&delay=5000\n`\n    )\n    .then((response) => response.data.hits);\n};\n\nexport default {\n  fetchImagesWithQuery,\n};\n","export default \"18283252-ffb357f868a94ca427c7f9b8a\";","import React, { Component } from \"react\";\n\nimport Searchbar from \"./components/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport Button from \"./components/Button\";\nimport MyLoader from \"./components/MyLoader\";\nimport Modal from \"./components/Modal\";\n\nimport styles from \"./App.module.css\";\nimport pixabay from \"./api/pixabay\";\n\nclass App extends Component {\n  state = {\n    images: [],\n    pageNumber: 1,\n    query: \"\",\n    isLoading: false,\n    largeImageURL: \"\",\n    error: \"\",\n  };\n\n  handleSubmit = (query) => {\n    const { pageNumber } = this.state;\n    this.setState({ isLoading: true, pageNumber: 1, query });\n    pixabay\n      .fetchImagesWithQuery(query, pageNumber)\n      .then((hits) => {\n        this.setState(({ pageNumber }) => ({\n          images: hits,\n          pageNumber: pageNumber + 1,\n          error: \"\",\n        }));\n      })\n      .catch((error) => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  handleLoadMore = () => {\n    const { pageNumber, query } = this.state;\n    this.setState({ isLoading: true });\n    pixabay\n      .fetchImagesWithQuery(query, pageNumber)\n      .then((hits) => {\n        this.setState(({ images, pageNumber }) => ({\n          images: [...images, ...hits],\n          pageNumber: pageNumber + 1,\n          error: \"\",\n        }));\n      })\n      .catch((error) => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  onImageClick = (e, id) => {\n    const { images } = this.state;\n    const { largeImageURL } = images.find((img) => img.id === id);\n    this.setState({ largeImageURL });\n  };\n\n  closeModal = () => {\n    this.setState({ largeImageURL: \"\" });\n  };\n\n  render() {\n    const { images, isLoading, largeImageURL, error } = this.state;\n    return (\n      <div className={styles.App}>\n        <Searchbar handleSubmit={this.handleSubmit} />\n        <ImageGallery images={images} onImageClick={this.onImageClick} />\n        {images.length > 0 && !isLoading && (\n          <Button handleClick={this.handleLoadMore} />\n        )}\n        {isLoading && <MyLoader />}\n        {largeImageURL && (\n          <Modal src={largeImageURL} closeModal={this.closeModal} />\n        )}\n        {error && `Oops, something went wrong: ${error}`}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nimport \"./index.module.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"styles_ImageGalleryItem__nDZAe\",\"ImageGalleryItem-image\":\"styles_ImageGalleryItem-image__3I7Ml\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"styles_Overlay__2Qr9o\",\"Modal\":\"styles_Modal__1Re9z\"};"],"sourceRoot":""}